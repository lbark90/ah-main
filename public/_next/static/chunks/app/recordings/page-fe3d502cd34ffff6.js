(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[370],{7529:function(e,t,o){Promise.resolve().then(o.bind(o,3593))},3593:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return d}});var i=o(7437),s=o(2265),a=o(2084);let n=()=>(0,i.jsx)("span",{className:"text-lg",children:"▼"}),r=()=>(0,i.jsx)("span",{className:"text-lg",children:"▶"}),l=[{section:"Life Overview",text:"Share a story about your earliest memory."},{section:"Life Overview",text:"Share a story about where you grew up and what it was like."},{section:"Life Overview",text:"Share a story about your parents or grandparents that influenced you deeply"},{section:"Life Overview",text:"Share a story about a family tradition that meant a lot to you."},{section:"Life Overview",text:"Share a story about a time your felt most at peace with your life"},{section:"Life Overview",text:"Share a story about a life lesson you learned the hard way."},{section:"Life Overview",text:"Share a story about Something you're most proud of in your life."},{section:"Life Overview",text:"Share a stroy about your biggest regret."},{section:"Life Overview",text:"Share a story about a moment when you felt truly happy."},{section:"Life Overview",text:"Share a story about your closest childhood friend and what you did together."},{section:"Childhood and Family Life",text:"What role did play and imagination have in your childhood?"},{section:"Childhood and Family Life",text:"Who was your favorite teacher or mentor as a child, and how did they influence you?"},{section:"Childhood and Family Life",text:"What did you fear most as a child, and how did you overcome it?"},{section:"Childhood and Family Life",text:"Can you describe the neighborhood where you grew up?"},{section:"Childhood and Family Life",text:"What was the mischievous thing you ever did as a kid?"},{section:"Childhood and Family Life",text:"Share a story about your siblings, if you had any."},{section:"Childhood and Family Life",text:"Share a story about a family meal that stands out in your memory."},{section:"Childhood and Family Life",text:"Share a story about your children, grandchildren or niece's or nephew's that fills you with pride."},{section:"Childhood and Family Life",text:"Share a story about a family pet and what it meant to you."},{section:"Childhood and Family Life",text:"Share a story about how you celebrated birthdays with your family."},{section:"Love and Relationships",text:"What qualities did you most admire in your romantic partners?"},{section:"Love and Relationships",text:"Share a story about a time you fell in love."},{section:"Love and Relationships",text:"Share a story about your wedding day or the first big love of your life."},{section:"Love and Relationships",text:"How did you navigate conflicts in your relationships?"},{section:"Love and Relationships",text:"Share a story about a misunderstanding with someone you loved and how it was resolved."},{section:"Love and Relationships",text:"What role has forgiveness played in your relationships?"},{section:"Love and Relationships",text:"Share a story about an unexpected joy in your relationship."},{section:"Love and Relationships",text:"What advice would you give someone entering into a new relationship?"},{section:"Love and Relationships",text:"Share a story about a time your heart was broken and how you healed."},{section:"Love and Relationships",text:"How do you want to be remembered by those you loved?"},{section:"Success, Failure and Personal Growth",text:"Share a story about a personal accomplishment you're most proud of."},{section:"Success, Failure and Personal Growth",text:"Share a story about a failure you experienced and how you overcame it."},{section:"Success, Failure and Personal Growth",text:"Share a story about your biggest career success."},{section:"Success, Failure and Personal Growth",text:"Share a story about a time you took a big risk."},{section:"Success, Failure and Personal Growth",text:"Share a story about how you handled criticism or rejection."},{section:"Success, Failure and Personal Growth",text:"How have you changed your mind about something significant in your life?"},{section:"Success, Failure and Personal Growth",text:"What's the most profound insight you've gained about life?"},{section:"Success, Failure and Personal Growth",text:"How did you learn the value of kindness?"},{section:"Success, Failure and Personal Growth",text:"How did failure shape your understanding of success?"},{section:"Success, Failure and Personal Growth",text:"What's the hardest truth you've ever had to accept?"},{section:"Work, Career and Business",text:"What did you enjoy most about the work you did?"},{section:"Work, Career and Business",text:"Share a story about your first job and what you learned from it."},{section:"Work, Career and Business",text:"Share a story about a mentor who influenced your career."},{section:"Work, Career and Business",text:"What challenges did you face as a leader or team member?"},{section:"Work, Career and Business",text:"How did your work-life balance evolve over time?"},{section:"Work, Career and Business",text:"What was your most significant career decision?"},{section:"Work, Career and Business",text:"Share a story about a tough work situation you handled well."},{section:"Work, Career and Business",text:"How did you inspire others in the workplace?"},{section:"Work, Career and Business",text:"What advice would you give to someone starting in your profession?"},{section:"Work, Career and Business",text:"What is something you worked on that made a lasting impact?"},{section:"Spirituality, Beliefs and Philosophy",text:"What do you think happens after we die?"},{section:"Spirituality, Beliefs and Philosophy",text:"How do you find peace during times of uncertainty?"},{section:"Spirituality, Beliefs and Philosophy",text:"What spiritual or philosophical beliefs guided your life"},{section:"Spirituality, Beliefs and Philosophy",text:"How did your beliefs evolve over time?"},{section:"Spirituality, Beliefs and Philosophy",text:"Share a story about a moment when you felt connected to something greater than yourself."},{section:"Spirituality, Beliefs and Philosophy",text:"What personal rituals or practices brought you the most comfort?"},{section:"Spirituality, Beliefs and Philosophy",text:"What role has gratitude played in your life? "},{section:"Spirituality, Beliefs and Philosophy",text:"How do you define wisdom?"},{section:"Spirituality, Beliefs and Philosophy",text:"What advice would you give about finding meaning in life?"},{section:"Spirituality, Beliefs and Philosophy",text:"What do you believe is the meaning of life?"},{section:"Hobbies, Interests and Passions",text:"What hobbies or interests brought you the most joy?"},{section:"Hobbies, Interests and Passions",text:"How did you discover your favorite pastime?"},{section:"Hobbies, Interests and Passions",text:"Share a story about a creative project you were especially proud of."},{section:"Hobbies, Interests and Passions",text:"What role did music, art, or literature play in your life?"},{section:"Hobbies, Interests and Passions",text:"Share a story about a time your passion brought you joy."},{section:"Hobbies, Interests and Passions",text:"What's a skill or talent you developed that others may not know about?"},{section:"Hobbies, Interests and Passions",text:"Can you share a story about how your expressed your creativity?"},{section:"Hobbies, Interests and Passions",text:"How did you use your hobbies to connect with others?"},{section:"Hobbies, Interests and Passions",text:"What's a competition or event you participated in that stood out?"},{section:"Hobbies, Interests and Passions",text:"If you could write a book about your life, what would the title be?"},{section:"Adversity, Resilience, and Lessons Learned",text:"Share a story about the hardest loss you ever faced."},{section:"Adversity, Resilience, and Lessons Learned",text:"How did you stay hopeful during difficult times?."},{section:"Adversity, Resilience, and Lessons Learned",text:"Can you share a story about a time you were underestimated?"},{section:"Adversity, Resilience, and Lessons Learned",text:"What was the toughest decision you ever had to make?"},{section:"Adversity, Resilience, and Lessons Learned",text:"How did you bounce back from a major setback?"},{section:"Adversity, Resilience, and Lessons Learned",text:"How did humor help you through tough times?"},{section:"Adversity, Resilience, and Lessons Learned",text:"What was the most unexpected thing you've ever done?"},{section:"Adversity, Resilience, and Lessons Learned",text:"Share a story about finding strength when you needed it most."},{section:"Adversity, Resilience, and Lessons Learned",text:"What was an unexpected event that turned out to be a blessing?"},{section:"Adversity, Resilience, and Lessons Learned",text:"What's a question you wish people would ask you?"},{section:"Life Legacy and Impact",text:"How would you like your family to celebrate your memory?"},{section:"Life Legacy and Impact",text:"What traditions would you like to see carried on after you're gone?"},{section:"Life Legacy and Impact",text:"What's the most important lesson you want future generations to learn?"},{section:"Life Legacy and Impact",text:"How do you think your story will inspire others?"},{section:"Life Legacy and Impact",text:"What would you say to someone living 100 years from now?"},{section:"Life Legacy and Impact",text:"What legacy do you hope to leave behind?"},{section:"Life Legacy and Impact",text:"How would you summarize your journey in one sentence?"},{section:"Life Legacy and Impact",text:"What's something you wish you'd done differently?"},{section:"Life Legacy and Impact",text:"How would you define a 'good life'?"},{section:"Life Legacy and Impact",text:"What's the most beautiful thing you've ever experienced?"},{section:"Final Reflections",text:"What's a story you've never told anyone before?"},{section:"Final Reflections",text:"What's a single word that sums up your life?"},{section:"Final Reflections",text:"How do you think others see you, and do you agree?"},{section:"Final Reflections",text:"What's a dream you pursued just for fun?"},{section:"Final Reflections",text:"What advancements do you wish you could have lived to see?"},{section:"Final Reflections",text:"If you had unlimited time and resources, what would you have loved to do?"},{section:"Final Reflections",text:"What's the funniest thing that ever happened to you?"},{section:"Final Reflections",text:"How did you reconcile the past with the present?"},{section:"Final Reflections",text:"What's the best piece of advice you've ever given?"},{section:"Final Reflections",text:"What question do you think I should have asked, and how would you answer it?"}];function d(){let[e,t]=(0,s.useState)([]),[o,d]=(0,s.useState)(null),{user:u}=(0,a.a)(),c=e=>{t(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},h=async(e,t)=>{if(!u){console.error("No user found");return}let o=u.id||(u.email?u.email.split("@")[0]:null);if(!o){console.error("Could not determine user identifier");return}let i="/api/audio/".concat(encodeURIComponent(o),"/").concat(e+1);d({questionIndex:e,title:t,audioUrl:null,isLoading:!0,error:null});try{let e=await fetch(i);if(!e.ok)throw Error(404===e.status?"You haven't recorded an answer for this question yet.":"Error fetching audio (".concat(e.status,")"));let t=await e.blob();if(0===t.size)throw Error("Audio file is empty");let o=URL.createObjectURL(t);d(e=>e?{...e,audioUrl:o,isLoading:!1}:null)}catch(e){console.error("Error fetching audio:",e),d(t=>t?{...t,error:e instanceof Error?e.message:"Failed to load audio",isLoading:!1}:null)}},y=Array.from(new Set(l.map(e=>e.section)));return(0,i.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-slate-900 to-slate-800",children:(0,i.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,i.jsx)("h1",{className:"text-3xl font-light mb-8 text-center text-white",children:"Your Recordings"}),(0,i.jsx)("div",{className:"space-y-6",children:y.map(t=>(0,i.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-700",children:[(0,i.jsxs)("button",{onClick:()=>c(t),className:"w-full flex items-center justify-between text-left p-2 hover:bg-slate-700/50 rounded-md transition-colors",children:[(0,i.jsx)("h2",{className:"text-xl font-light text-blue-400",children:t}),e.includes(t)?(0,i.jsx)(n,{}):(0,i.jsx)(r,{})]}),e.includes(t)&&(0,i.jsx)("div",{className:"mt-4 space-y-3",children:l.filter(e=>e.section===t).map((e,t)=>{let s=l.findIndex(t=>t.text===e.text);return(0,i.jsxs)("div",{className:"bg-slate-700/30 p-4 rounded-md",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("p",{className:"text-slate-200",children:e.text}),(0,i.jsx)("button",{onClick:()=>h(s,e.text),className:"ml-4 px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-md transition-colors",children:"Play"})]}),(null==o?void 0:o.questionIndex)===s&&(0,i.jsx)("div",{className:"mt-2 ml-4",children:o.isLoading?(0,i.jsxs)("div",{className:"flex items-center justify-center p-2 text-slate-400",children:[(0,i.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[(0,i.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,i.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading audio..."]}):o.error?(0,i.jsx)("div",{className:"text-slate-400 p-2",children:o.error}):o.audioUrl?(0,i.jsx)("audio",{src:o.audioUrl,controls:!0,className:"w-full mt-2",autoPlay:!0}):null})]},t)})})]},t))})]})})}},2084:function(e,t,o){"use strict";o.d(t,{a:function(){return r},d:function(){return n}});var i=o(7437),s=o(2265);let a=(0,s.createContext)(void 0),n=e=>{let{children:t}=e,[o,n]=(0,s.useState)(null),[r,l]=(0,s.useState)(!0);(0,s.useEffect)(()=>{(()=>{try{let e=document.cookie.split("; ").find(e=>e.startsWith("userId="));if(e){let t=e.split("=")[1];console.log("Found user cookie with ID:",t),fetch("/api/user/login_credentials?userId=".concat(t)).then(e=>e.json()).then(e=>{if(!e.error){let t={id:e.userId,username:e.userId,firstName:e.firstName,middleName:e.middleName||"",lastName:e.lastName,email:e.email,phone:e.phoneNumber,dob:e.dateOfBirth};n(t),localStorage.setItem("aliveHereUser",JSON.stringify(t))}l(!1)}).catch(()=>{l(!1)});return}let t=localStorage.getItem("aliveHereUser");t&&(console.log("Loading user from localStorage"),n(JSON.parse(t)))}catch(e){console.error("Error loading user from storage:",e)}finally{l(!1)}})()},[]);let d=e=>{console.log("Setting user with ID:",null==e?void 0:e.id),e&&!e.id&&console.error("User object is missing ID field"),n(e),e?localStorage.setItem("aliveHereUser",JSON.stringify(e)):localStorage.removeItem("aliveHereUser")},u=async()=>{try{await fetch("/api/auth/logout",{method:"POST"})}catch(e){console.error("Error during logout:",e)}finally{d(null),document.cookie="userId=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"}},c=async e=>{try{d(e)}catch(e){throw console.error("Error registering user:",e),e}};return(0,i.jsx)(a.Provider,{value:{user:o,setUser:d,logout:u,isLoading:r,registerUser:c},children:t})},r=()=>{let e=(0,s.useContext)(a);if(void 0===e)throw Error("useUser must be used within a UserProvider");return e}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=7529)}),_N_E=e.O()}]);